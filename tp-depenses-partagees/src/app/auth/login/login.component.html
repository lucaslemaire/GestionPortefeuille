<main>
  <div class="container">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()"   novalidate>
      <div class="text-center mb-4">
        <h1 class="h3 mt-3 mb-3 font-weight-normal">Bienvenue</h1>
        <p>Partage tes dÃ©penses</p>
        <hr>
      </div>
      <div class="form-group" [ngClass]="{ 'has-error': !email.valid && (email.dirty || email.touched) }">
        <label for="email">Adresse mail</label>
        <input type="email" formControlName="email"  name="email" required class="form-control" id="email" aria-describedby="emailHelp" placeholder="Adresse mail">
        <div *ngIf="email.invalid && (email.dirty || email.touched)" >
          <div *ngIf="email?.errors.required">L'adresse mail est obligatoire</div>
          <div *ngIf="email?.errors.email">Le format de l'adresse mail n'est pas valide</div>
        </div>
      </div>
      <div class="form-group" [ngClass]="{ 'has-error': !password.valid && (password.dirty || password.touched) }">
        <label for="password">Mot de passe</label>
        <input type="password" formControlName="password" name="password" required minlength="6" class="form-control" id="password" placeholder="Mot de passe">
        <div *ngIf="password.invalid && (password.dirty || password.touched)" >
          <div *ngIf="password?.errors.required">Password is required</div>
          <div *ngIf="password?.errors.minlength">Password must be at least 6 characters</div>
        </div>
      </div>
      <div  *ngIf="error" class="alert alert-danger" role="alert">
        Ops: {{ error.error }}
      </div>
      <button [disabled]="!loginForm.valid" class="btn btn-lg btn-primary btn-block mt-5" type="submit">Login</button>
    </form>
  </div>
</main>
